<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Butterfly2046</title>
  <style>
    body {
      padding: 0;
      margin: 0;
    }
  </style>
  <!-- Icon -->
  <link rel="icon" href="../h.png" type="image/png" sizes="16x16">
  <script src="https://cdn.jsdelivr.net/npm/p5@1.3.0/lib/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tweakpane@1.5.8/dist/tweakpane.min.js"></script>
  <script>
    // require https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js
    // require https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js
    // require https://cdn.jsdelivr.net/npm/tweakpane@1.5.8/dist/tweakpane.min.js

    let xOff = 0;
    let yOff = 0;
    const points = [];

    const pane = new Tweakpane();
    const para = {};

    function setup() {
      createCanvas(windowWidth, windowHeight);
      background(0);

      para.xOff = 0;
      para.yOff = 0;
      pane.addInput(para, "xOff", {
        min: 0.000,
        max: 0.005
      });
      pane.addInput(para, "yOff", {
        min: 0.000,
        max: 0.005
      });

      for (let FL = 0; FL < 10; FL++) {
        points.push({
          x: random(10, width),
          y: random(10, height / 8),
        });
      }
    }

    function draw() {

      noFill();
      for (let j = 0; j < 40; j++) {

        radius1 = noise(random(j)) * 500;
        stroke(radius1 * random(j), 150 / random(j), 50 / random(j), 30 / random(j));
        beginShape();
        let centerX = windowWidth / 2;
        let centerY = windowHeight / 2;

        for (let i = 0; i < 400; i++) {
          let angle = map(i, 0, 400, 0, 2 * PI);
          let radius2 = noise(xOff + tan(angle), yOff + cos(angle)) * radius1;
          vertex(cos(angle) * radius2 + centerX, sin(angle) * radius2 + centerY);
        }
        endShape(CLOSE);

        xOff = xOff + para.xOff;
        yOff = yOff + para.yOff;
        //centerX+=1;

      }

      // for (let OWER = 0; OWER < points.length; OWER++) {
      //   const p=points[OWER]; flower(p.x, p.y);
      // }

    }
    //
    // function flower(x, y) {
    //   noStroke();
    //   fill("darkgrey");
    //   ellipse(x, y, 8, 8);
    //   ellipse(x + 5, y - 5, 10, 10);
    //   ellipse(x + 5, y + 5, 10, 10);
    //   ellipse(x - 5, y - 5, 10, 10);
    //   ellipse(x - 5, y + 5, 10, 10);
    // }
  </script>
</head>

<body>
  <main>
  </main>
</body>

</html>
